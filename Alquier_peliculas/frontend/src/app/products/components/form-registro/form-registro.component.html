
@if (validacion) {
  <div class="alert alert-success mt-4" role="alert">
    <p>Camara registrada Correctamente</p>

  </div>
}

<form class="mt-5 shadow-lg p-3 mb-5 bg-body-tertiary rounded " #form="ngForm">
  <h1 class="text-center m-5 badge text-bg-primary text-wrap ">REGISTRAR CAMARA</h1>

  <div class="mb-3">
    <label for="exampleInputEmail1" class="form-label">Modelo</label>
    <input name="modelo" type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" [(ngModel)]="camara.modelo" #modelo="ngModel" required>
    @if (modelo.invalid && (modelo.dirty || modelo.touched)) {
      <div class="alert alert-danger mt-1">
        El modelo es requerido
      </div>
    }
  </div>


  <div class="mb-2">
    <label class="m-1">Marca</label>
    <select name="marca" class="form-select" aria-label="Default select example" [(ngModel)]="camara.marca" #marca="ngModel">
      @for (marca of marcas; track $index) {
        <option [ngValue]="marca.id" >{{marca.nombre}}</option>
      }
      @if (marca.invalid && (marca.dirty || marca.touched)) {
        <div class="alert alert-danger mt-1">
          El modelo es requerido
        </div>
      }
    </select>
  </div>



  <div class="mb-3">
    <label for="" class="form-label">Soporte flash</label>
    <select name="flash" class="form-select" aria-label="Default select example" [(ngModel)]="camara.soporteFlash" #flash="ngModel" required>
      <option value="true" >Si</option>
      <option value="false" >No</option>

    </select>
  </div>


  <div>
    <label for="">Peliculas Compatibles</label>
    <select name="peliculas" class="form-select mb-3" multiple aria-label="Multiple select example"  [(ngModel)]="camara.peliculas">
      @for (pelicula of peliculas; track $index) {
        <option  [ngValue]="pelicula.id">{{pelicula.marca}} {{pelicula.nombre}} {{pelicula.sensibilidadIso}} {{pelicula.formato}}</option>
      }
    </select>
  </div>
  <div class="container text-center">
    @if (form.invalid) {
      <button type="submit" class="btn btn-primary " disabled>Registrar</button>
    }@else {
      <button type="submit" class="btn btn-primary " (click)="insertarCamara()" (click)="onSubmit()" >Registrar</button>
    }

  </div>


</form>
